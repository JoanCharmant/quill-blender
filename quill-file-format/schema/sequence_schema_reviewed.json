{
    "$schema": "http://json-schema.org/draft-06/schema#",
    "$ref": "#/definitions/QuillSequence",
    "definitions": {
        "QuillSequence": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Version": {
                    "type": "integer"
                },
                "Sequence": {
                    "$ref": "#/definitions/Sequence"
                }
            },
            "required": [
                "Sequence",
                "Version"
            ],
            "title": "QuillSequence"
        },
        "Sequence": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Metadata": {
                    "$ref": "#/definitions/Metadata"
                },
                "Gallery": {
                    "$ref": "#/definitions/Gallery"
                },
                "BackgroundColor": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    }
                },
                "DefaultViewpoint": {
                    "type": "string"
                },
                "Framerate": {
                    "type": "integer"
                },
                "ExportStart": {
                    "type": "integer"
                },
                "ExportEnd": {
                    "type": "integer"
                },
                "CameraResolution": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "RootLayer": {
                    "$ref": "#/definitions/Layer"
                }
            },
            "required": [
                "BackgroundColor",
                "CameraResolution",
                "DefaultViewpoint",
                "ExportEnd",
                "ExportStart",
                "Framerate",
                "Gallery",
                "Metadata",
                "RootLayer"
            ],
            "title": "Sequence"
        },
        "Gallery": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Thumbnails": {
                    "$ref": "#/definitions/Thumbnails"
                },
                "Pictures": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            },
            "required": [
                "Pictures",
                "Thumbnails"
            ],
            "title": "Gallery"
        },
        "Thumbnails": {
            "type": "object",
            "additionalProperties": false,
            "title": "Thumbnails"
        },
        "Metadata": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Title": {
                    "type": "string"
                },
                "Description": {
                    "type": "string"
                },
                "ThumbnailCropPosition": {
                    "type": "number"
                }
            },
            "required": [
                "Description",
                "ThumbnailCropPosition",
                "Title"
            ],
            "title": "Metadata"
        },
        "Layer": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Name": {
                    "type": "string"
                },
                "Visible": {
                    "type": "boolean"
                },
                "Locked": {
                    "type": "boolean"
                },
                "Collapsed": {
                    "type": "boolean"
                },
                "BBoxVisible": {
                    "type": "boolean"
                },
                "Opacity": {
                    "type": "number"
                },
                "Type": {
                    "type": "string"
                },
                "IsModelTopLayer": {
                    "type": "boolean"
                },
                "KeepAlive": {
                    "$ref": "#/definitions/KeepAlive"
                },
                "Transform": {
                    "$ref": "#/definitions/Transform"
                },
                "Pivot": {
                    "$ref": "#/definitions/Transform"
                },
                "Animation": {
                    "$ref": "#/definitions/Animation"
                },
                "Implementation": {
                    "$ref": "#/definitions/LayerImplementation"
                }
            },
            "required": [
                "Animation",
                "BBoxVisible",
                "Collapsed",
                "Implementation",
                "IsModelTopLayer",
                "KeepAlive",
                "Locked",
                "Name",
                "Opacity",
                "Pivot",
                "Transform",
                "Type",
                "Visible"
            ],
            "title": "Layer"
        },
        "Animation": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Duration": {
                    "type": "string",
                    "format": "integer"
                },
                "Timeline": {
                    "type": "boolean"
                },
                "StartOffset": {
                    "type": "string",
                    "format": "integer"
                },
                "MaxRepeatCount": {
                    "type": "string",
                    "format": "integer"
                },
                "Keys": {
                    "$ref": "#/definitions/Keys"
                }
            },
            "required": [
                "Duration",
                "Keys",
                "MaxRepeatCount",
                "StartOffset",
                "Timeline"
            ],
            "title": "Animation"
        },
        "Keys": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Visibility": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Keyframe"
                    }
                },
                "Offset": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Keyframe"
                    }
                },
                "Opacity": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Keyframe"
                    }
                },
                "Transform": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Keyframe"
                    }
                }
            },
            "required": [
                "Visibility",
                "Offset"
            ],
            "title": "Keys"
        },
        "Keyframe": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Time": {
                    "type": "string",
                    "format": "integer"
                },
                "Value": {
                    "anyOf": [
                        { "type": "integer" },
                        { "type": "number" },
                        { "type": "boolean" },
                        { "$ref": "#/definitions/Transform" }
                    ]
                },
                "Interpolation": {
                    "type": "string"
                }
            },
            "required": [
                "Interpolation",
                "Time",
                "Value"
            ],
            "title": "Keyframe"
        },
        "LayerImplementation": {
            "oneOf": [
                { "$ref": "#/definitions/GroupLayerImplementation" },
                { "$ref": "#/definitions/PaintLayerImplementation" },
                { "$ref": "#/definitions/ViewpointLayerImplementation"}
              ]
        },
        "GroupLayerImplementation": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Children": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Layer"
                    }
                }
            },
            "required": [
                "Children"
            ],
            "title": "GroupLayerImplementation"
        },
        "PaintLayerImplementation": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Framerate": {
                    "type": "integer"
                },
                "MaxRepeatCount": {
                    "type": "integer"
                },
                "Drawings": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Drawing"
                    }
                },
                "Frames": {
                    "type": "array",
                    "items": {
                        "type": "string",
                        "format": "integer"
                    }
                }
            },
            "required": [
                "Framerate",
                "MaxRepeatCount",
                "Drawings",
                "Frames"
            ],
            "title": "PaintLayerImplementation"
        },
        "ViewpointLayerImplementation": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Version": {
                    "type": "integer"
                },
                "Color": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    }
                },
                "Sphere": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "AllowTranslationX": {
                    "type": "boolean"
                },
                "AllowTranslationY": {
                    "type": "boolean"
                },
                "AllowTranslationZ": {
                    "type": "boolean"
                },
                "Exporting": {
                    "type": "boolean"
                },
                "ShowingVolume": {
                    "type": "boolean"
                },
                "TypeStr": {
                    "type": "string"
                }
            },
            "required": [
                "AllowTranslationX",
                "AllowTranslationY",
                "AllowTranslationZ",
                "Color",
                "Exporting",
                "ShowingVolume",
                "Sphere",
                "TypeStr",
                "Version"
            ],
            "title": "ViewpointLayerImplementation"
        },
        "Drawing": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "BoundingBox": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    }
                },
                "DataFileOffset": {
                    "type": "string"
                }
            },
            "required": [
                "BoundingBox",
                "DataFileOffset"
            ],
            "title": "Drawing"
        },
        "KeepAlive": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Type": {
                    "type": "string"
                }
            },
            "required": [
                "Type"
            ],
            "title": "KeepAlive"
        },
        "Transform": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "Rotation": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    }
                },
                "Scale": {
                    "type": "number"
                },
                "Flip": {
                    "type": "string"
                },
                "Translation": {
                    "type": "array",
                    "items": {
                        "type": "number"
                    }
                }
            },
            "required": [
                "Flip",
                "Rotation",
                "Scale",
                "Translation"
            ],
            "title": "Transform"
        }
    }
}
